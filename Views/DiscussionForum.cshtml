@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@{
	Layout = "MasterPage.cshtml";
}

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes" />
    <title>Heart Failure Information Portal</title>
    
    <!--CSS-->
    <link href="/css/DiscussionForumPage.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/Style.css">

    <!--Javascript Add post-->
    <script src = "/scripts/discussionForum.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js"
        integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous">
    </script>
    
    <script>
    
        window.addEventListener('load', function () {
            const element = document.getElementById("myBtn");
            element.remove();
        })
        
        function addRow() {
            // get input values
            var Subject = document.getElementById('Subject').value;
            var Message = document.getElementById('Message').value;
            
            //Date and time 
            var today = new Date();
            var date = today.getDate() + '-'+(today.getMonth()+1 + '-'+today.getFullYear());

            // get the html table
            // 0 = the first table
            var table = document.getElementsByTagName('table')[0];

            // add new empty row to the table
            // 1 = in the top 
            // table.rows.length = the end
            var newRow = table.insertRow(1);

            // add cells to the row
            var cel1 = newRow.insertCell(0);
            var cel2 = newRow.insertCell(1);
            var cel3 = newRow.insertCell(2);
            var cel4 = newRow.insertCell(3);

            // add values to the cells
            cel1.innerHTML = Message;
            cel2.innerHTML = Subject;
            cel3.innerHTML = 'Shivam'; 
            cel4.innerHTML = date; 
            
                     
        }

        function cleartext(){

            //clear the text area
            document.getElementById('Subject').value = '';        
            document.getElementById('Message').value = '';        

        }
    </script>
    
</head> 

<body>
    
    <!--Main Body of the Forum-->
    <div class = "main-forum-body"> 
        <!--Padding container-->
        <div class = "the-forum-class">
            
            <table class = "forum-header"> 
                <!-- Forum Body--> 
                <thead>
                    <tr>
                        <th scope = "col" style="max-width: 100vh;">Message</th>
                        <th scope = "col" style="max-width: 50vh;">Topic</th>
                        <th scope = "col" style="max-width: 25vh;">Posted By</th>
                        <th scope = "col" style="max-width: 25vh;">Time</th>
                    </tr>
                </thead>
                <tbody class="forum-table">
                    <tr>
                        <th scope = "col" style="max-width: 100vh;">Lorem ipsum dolor sit amet</th>
                        <td>Tips for healthy heart?</td>
                        <td>Paul</td>
                        <td>19-10-2022</td>
                    </tr>
                </tbody>
            </table>
            
            <!--Posting Section--> 
            <table class="table caption-top">
                <div class="card-card-body">
            
                    Subject <input type="text" name="Subject" id="Subject"/><br/><br/>
                    Message <textarea type="text" rows="10" name="Message" id="Message" required minlength="10"
                    maxlength="200"></textarea><br/><br/>
                
                    <div class="row" style="padding: 1rem;">
                        <button class="btn-post" onclick="addRow();cleartext();" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapsepost" aria-expanded="false"
                        aria-controls="collapseExample">Post to Forum</button><br /><br />
                        &nbsp;
                        &nbsp;
                        
                        <button class="btn-cancel" onclick="cleartext();" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapsepost" aria-expanded="false"
                        aria-controls="collapseExample">Cancel</button><br/><br/>
                    </div>
                </div>
            </table>
        </div>
    </div>

</body>

</html>